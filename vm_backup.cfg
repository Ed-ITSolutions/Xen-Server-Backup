#!/bin/bash

#
# Citrix XenServer 5.5 VM Backup Config
# This script contains config settings used by the VM backup script
#
# @version	3.01
# @created	24/11/2009
# @lastupdated	01/12/2009
#
# @author	Andy Burton
# @url		http://www.andy-burton.co.uk/blog/
# @email	andy@andy-burton.co.uk
#



#
# Settings
#


# Set log path

log_path="/var/log/vm_backup.log"


# Enable logging
# Remove to disable logging

log_enable

# System Alert Values
# These variables control how alerts generated by this script appear in xencenter
# The priority of the alerts in xencenter (Probabbly want this to be rather high)
alert_priority="10"
# The hosts UUID can be found in xencenter or by using the command `xe host-list`
host_uuid=""

# Local backup directory or CIFS mount point
# You can can use this path as a Windows CIFS share mount point using cifs_share
# cifs_cred options below else this will be the local folder to backup to

backup_dir="/backup/liveBackups/"

# Windows share directory
# You can specify the path to the windows share you are using here
# Leave this blank if you are not using a windows share for backups
# If your share needs a username and password add them here (note will be available
# in plain text for anyone reading this file, an individual backup account is recommended
#eg. 
#cifs_share="//server/share"
#cifs_mountpoint="/myfolder"
#cifs_username="myusername@domain.local"
#cifs_password="password"

cifs_share=""
cifs_mountpoint=""
cifs_username=""
cifs_password=""

# Backup extension
# .xva is the default Citrix template/vm extension

backup_ext=".xva"


# Which VMs to backup. Possible values are:
# "all" - Backup all VMs
# "running" - Backup all running VMs
# "list" - Backup all VMs in the backup list (see below)
# "none" - Don't backup any VMs, this is the default

backup_vms="running"


# VM backup list
# Only VMs in this list will be backed up when backup_ext="list"
# You can add VMs to the list using: add_to_backup_list "uuid"

# Example:
# add_to_backup_list "2844954f-966d-3ff4-250b-638249b66313"


# Current Date
# This is appended to the backup file name and the format can be changed here
# Default format: YYYY-MM-DD_HH-MM-SS

date=$(date +%Y-%m-%d_%H-%M-%S)
